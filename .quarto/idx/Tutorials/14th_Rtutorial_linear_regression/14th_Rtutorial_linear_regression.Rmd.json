{"title":"Tutorial 14","markdown":{"yaml":{"title":"Tutorial 14","output":"learnr::tutorial","runtime":"shiny_prerendered"},"headingText":"Introduction","containsRefs":false,"markdown":"\n\n```{r setup, include=FALSE}\nlibrary(learnr)\nlibrary(mosaic)\nlibrary(openintro)\nknitr::opts_chunk$set(echo = FALSE)\n```\n\n\nIn this R Tutorial we'll walk through the process of making a linear regression model in R\n\n## Organize Data\n\n1.  The `mosaic` and `openintro` libraries have been preloaded.\n\n2.  I'll be working from question 1 in homework 8 part 2. Here's the text from that assignment:\n\n*The data below was collected from manufacturer advertisements of their vehicles horsepower and highway gas mileage (mpg.). Use this data to answer the following questions.*\n\nThe data from my version of the problem is below*, rename the vectors `x` and `y` as `horsepower` and `mpg`. \n\n```{r data-input,exercise=TRUE}\nx <- c(158, 250, 340, 350, 390, 190, 220)\ny <- c(33, 28, 15, 17, 11, 35, 42)\n\n```\n\n```{r data-input-hint}\nhp <- c(158, 250, 340, 350, 390, 190, 220)\nmpg <- c(33, 28, 15, 17, 11, 35, 42)\n\n```\n\n\\* We could have imported the data as a table but this felt faster. See tutorial 4 for information on that. \n\n## Make a scatter plot and linear regression\n\n1. In the chunk below make a scatter plot using `gf_point()` of `mpg` vs `hp`. \n\n```{r prepare-scatter}\nhp <- c(158, 250, 340, 350, 390, 190, 220)\nmpg <- c(33, 28, 15, 17, 11, 35, 42)\n```\n\n```{r scatter-plot, exercise=TRUE, exercise.setup=\"prepare-scatter\"}\n#Note you don't need a data argument because we're dealing with two vectors, not a data frame. \ngf_point(____~____)\n\n```\n\n```{r scatter-plot-hint}\ngf_point(hp~mpg)\n\n```\n\n2. We can add a regression line by piping `gf_point()` to `gf_lm()` with `%>%` .\n\n\n\n```{r line-plot, exercise=TRUE, exercise.setup=\"prepare-scatter\"}\n#Note you don't need a data argument because we're dealing with two vectors, not a data frame. \ngf_point(____~____) %>%\n  gf_lm(____~____)\n\n```\n\n```{r line-plot-hint}\ngf_point(hp~mpg) %>%\n  gf_lm(hp~mpg)\n\n```\n\nYou should add better axes labels and a good title. IN case you forget you can add this with the arguments `title= \"title\" `, `xlab= \"\"`,`ylab= \"\"` to the argument of `gf_point()`.\n\n## Find the correlation coefficient and equation. \n\n1. We can use the `lm()` to find the linear model that fits our data.  \n\n```{r lm, exercise=TRUE}\nhp_mpg_model <- lm(hp~mpg)\nhp_mpg_model\n```\n\n2. From the output of the model we can see that the equation is\n\n$y=-6.896 x + 449.448$ \n\nwhere x is mpg and y is hp. \n\n3. We can also use `msummary(hp_mpg_model)` to see the p-value for a hypothesis and the $r^2$ value. To see the correlation coefficient take the square root of r^2 or use `cor()`. Also note we can see the intercept and mpg values that we used to write the linear equation. \n\n```{r summary-setup}\nhp_mpg_model <- lm(hp~mpg)\nhp_mpg_model\n```\n\n```{r summary, exercise=TRUE}\nmsummary()\nsqrt()\ncor()\n```\n\n```{r summary-hint}\nmsummary(hp_mpg_model)\n\n#When taking the square root of r^2 you have to consider the sign + or - of r.  \nsqrt(0.8171)\n\ncor(hp~mpg)\n```\n\n\n\nStep 7. Notice when I knitted I needed to bring the data into R I did this by adding the following to the setup chunk.\n\nlibrary(readxl) Rtut_13 \\<- read_excel(\"Rtut_13.xlsx\")\n\n## Assignment \n\n5 points\n\nMake a linear regression model for `Age` vs `Price` from the `Mustangs` data frame from the `mosaic` package. \n\nGive the equation, correlation coefficient, a title, and good x and y axes labels. \n\nKnit your document as an html and post it to the forum. \n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":"learnr::tutorial","warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-yaml":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"14th_Rtutorial_linear_regression.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.0.37","title":"Tutorial 14","runtime":"shiny_prerendered"},"extensions":{"book":{"multiFile":true}}}}}